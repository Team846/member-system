(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{501:function(e,t,a){"use strict";a.r(t);var n=a(84),l=a(34),i=a(85),r=a(131),o=a(132),c=a(134),s=a(133),u=a(135),m=a(60),p=a(7),d=a(515),b=a(45),h=a.n(b),f=a(1),E=a.n(f),g=a(512),v=a(509),y=a(136),j=a(510),O=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).deleteMailingList=function(e){return function(){if(window.confirm('Are you sure you want to delete the "'.concat(e.name,'" mailing list'))){var t=a.props.enqueueSnackbar;h.a.firestore().doc("mailing-lists/".concat(e.id)).delete().then(function(){return t('Deleted the "'.concat(e.name,'" mailing list'))}).catch(function(e){return t(e.message)})}}},a.modelModalData=function(e){return function(t){a.setState({modal:Object(i.a)({},a.state.modal,{data:Object(i.a)({},a.state.modal.data,Object(l.a)({},e,t.target.value))})})}},a.createMailingList=function(e){e.preventDefault(),h.a.firestore().collection("mailing-lists").add(a.state.modal.data).then(function(){return a.props.enqueueSnackbar("Created mailing list")}).catch(function(e){return a.props.enqueueSnackbar(e.message)})},a.state={aliases:[],modal:{data:{alias:Date.now(),name:"New Alias",members:""},open:!1}},a.updateAliasField=function(e,t){return function(n){var l=[].concat(a.state.aliases);l.find(function(t){return t.id===e.id})[t]=n.target.value,a.setState({aliases:l})}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=h.a.firestore().collection("mailing-lists").onSnapshot(function(t){e.setState({aliases:t.docs.map(function(e){return Object(i.a)({},e.data(),{id:e.id})})})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.modal.data;return E.a.createElement(g.a,{title:"Mailing Lists"},E.a.createElement(m.l,{container:!0,justify:"center"},this.state.aliases.map(function(t){return E.a.createElement(m.l,{item:!0,key:t.id,xs:12,md:6},E.a.createElement(m.f,null,E.a.createElement(m.i,{expandIcon:E.a.createElement(d.b,null)},E.a.createElement(m.E,null,t.name)),E.a.createElement(m.h,null,E.a.createElement("form",{style:{width:"100%"}},E.a.createElement(j.a,{autoFocus:!0,label:"Name",onChange:e.updateAliasField(t,"name"),value:t.name}),E.a.createElement(j.a,{InputProps:{endAdornment:E.a.createElement(m.n,{position:"end"},"@lynbrookrobotics.com")},onChange:e.updateAliasField(t,"alias"),label:"Alias",value:t.alias}),E.a.createElement(j.a,{onChange:e.updateAliasField(t,"members"),multiline:!0,rowsMax:10,label:"Members",value:t.members}))),E.a.createElement(m.d,null),E.a.createElement(m.g,null,E.a.createElement(v.a,{fullWidth:!1,noMarginTop:!0,onClick:e.deleteMailingList(t),variant:"outlined",size:"small"},"Delete Alias"),E.a.createElement(v.a,{fullWidth:!1,noMarginTop:!0,onClick:function(){t.id;var a=Object(n.a)(t,["id"]);h.a.firestore().doc("mailing-lists/".concat(t.id)).set(Object(i.a)({},a)).then(function(){return e.props.enqueueSnackbar('Updated the "'.concat(t.name,'" mailing list'))}).catch(function(t){return e.props.enqueueSnackbar(t.message)})},size:"small"},"Save"))))})),E.a.createElement(m.t,{open:this.state.modal.open,onClose:function(){return e.setState({modal:Object(i.a)({},e.state.modal,{open:!1})})}},E.a.createElement(m.l,{container:!0,alignItems:"center",justify:"center"},E.a.createElement(m.l,{item:!0,xs:12,md:6},E.a.createElement(m.v,{className:t.modalPaper},E.a.createElement(m.E,{variant:"h6"},"New Alias"),E.a.createElement("form",{onSubmit:this.createMailingList},E.a.createElement(j.a,{autoFocus:!0,label:"Name",onChange:this.modelModalData("name"),value:a.name}),E.a.createElement(j.a,{InputProps:{endAdornment:E.a.createElement(m.n,{position:"end"},"@lynbrookrobotics.com")},onChange:this.modelModalData("alias"),label:"Alias",value:a.alias}),E.a.createElement(j.a,{onChange:this.modelModalData("members"),multiline:!0,rowsMax:10,label:"Members",value:a.members}),E.a.createElement(v.a,{type:"submit"},"Create")))))),E.a.createElement(m.j,{className:t.fab,color:"primary",onClick:function(){return e.setState({modal:Object(i.a)({},e.state.modal,{open:!0})})}},E.a.createElement(d.a,null)))}}]),t}(f.Component);O.styles=function(e){return{fab:{bottom:2*e.spacing.unit,right:2*e.spacing.unit,position:"fixed"},modalPaper:{padding:2*e.spacing.unit}}},t.default=Object(p.withStyles)(O.styles)(Object(y.withSnackbar)(O))},509:function(e,t,a){"use strict";var n=a(84),l=a(60),i=a(1),r=a.n(i);function o(e){var t=e.noMarginTop,a=Object(n.a)(e,["noMarginTop"]);return r.a.createElement(l.b,Object.assign({fullWidth:!0,color:"primary",style:{marginTop:t?8:24},variant:"contained"},a))}o.defaultProps={noMarginTop:!1},t.a=o},510:function(e,t,a){"use strict";var n=a(84),l=a(131),i=a(132),r=a(134),o=a(133),c=a(135),s=a(60),u=a(1),m=a.n(u),p=a(18),d=a.n(p),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).inputLabelRef=null,a.state={labelWidth:0},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.inputLabelRef&&this.setState({labelWidth:d.a.findDOMNode(this.inputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,l=t.options,i=t.type,r=Object(n.a)(t,["label","options","type"]);return"select"===i?m.a.createElement(s.k,{fullWidth:!0,margin:"normal",variant:"outlined"},m.a.createElement(s.o,{ref:function(t){return e.inputLabelRef=t},variant:"outlined"},a),m.a.createElement(s.w,Object.assign({input:m.a.createElement(s.u,{labelWidth:this.state.labelWidth}),variant:"outlined"},r),l.map(function(e){return m.a.createElement(s.s,{key:e,value:e},e)}))):m.a.createElement(s.C,Object.assign({fullWidth:!0,margin:"normal",variant:"outlined"},this.props))}}]),t}(u.Component);t.a=b},512:function(e,t,a){"use strict";var n=a(85),l=a(131),i=a(132),r=a(134),o=a(133),c=a(135),s=a(60),u=a(1),m=a.n(u),p=a(515),d=a(7),b=a(61),h=a(5740),f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).closeDrawer=function(){a.setState({open:!1})},a.openDrawer=function(){a.setState({open:!0})},a.state={open:!1},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.classes,l=t.title;return m.a.createElement(u.Fragment,null,m.a.createElement(s.a,null,m.a.createElement(s.D,{className:n.toolbar},m.a.createElement(s.m,{className:n.menuButton,color:"inherit",onClick:this.openDrawer},m.a.createElement(p.c,null)),m.a.createElement(s.E,{color:"inherit",component:"h1",variant:"h5"},l))),m.a.createElement(s.e,{classes:{paper:n.drawerPaper},onClose:this.closeDrawer,open:this.state.open,variant:"temporary"},m.a.createElement(s.p,null,m.a.createElement(s.q,null,m.a.createElement(s.r,null,m.a.createElement(s.E,{variant:"h5"},"Member System"))),Object.values(b.b.private).map(function(t){return m.a.createElement(s.q,{button:!0,key:t.path,onClick:function(){return e.props.history.push(t.path)}},m.a.createElement(s.r,null,t.label))}))),m.a.createElement("div",{className:n.contentSpacer}),a)}}]),t}(u.Component);f.styles=function(e){return{contentSpacer:Object(n.a)({},e.mixins.toolbar),drawerPaper:{width:300},menuButton:{marginLeft:-12,marginRight:e.spacing.unit},toolbar:{alignItems:"center",display:"flex"}}},t.a=Object(d.withStyles)(f.styles)(Object(h.a)(f))}}]);
//# sourceMappingURL=MailingLists.5ab24755.chunk.js.map