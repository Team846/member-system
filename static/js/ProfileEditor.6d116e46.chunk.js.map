{"version":3,"sources":["routes/private/ProfileEditor.js","components/Button.js","components/Input.js","components/Dashboard.js"],"names":["ProfileEditor","generateInputFromUserProfileField","userProfileField","profile","_this","state","condition","key","type","props","Object","_home_travis_build_Team846_member_system_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_14___default","a","createElement","_material_ui_core_es_Typography_Typography__WEBPACK_IMPORTED_MODULE_16__","variant","label","_material_ui_core__WEBPACK_IMPORTED_MODULE_11__","container","spacing","content","map","inputDescriptor","item","xs","length","_components_Input__WEBPACK_IMPORTED_MODULE_13__","assign","onChange","onProfileFieldChange","value","name","e","setState","_home_travis_build_Team846_member_system_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_home_travis_build_Team846_member_system_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","currentUser","firebase","auth","Backup Phone Type","Email","email","Gender","Name","displayName","Primary Phone Number","Primary Phone Type","Role","Teams","updateProfile","enqueueSnackbar","preventDefault","firestore","doc","concat","uid","set","then","catch","message","_this2","this","unsubscribe","onSnapshot","snapshot","data","classes","_components_Dashboard__WEBPACK_IMPORTED_MODULE_9__","title","justify","md","lg","className","paper","onSubmit","userProfileFields","_components_Button__WEBPACK_IMPORTED_MODULE_8__","Component","styles","theme","padding","unit","withStyles","withSnackbar","Button","noMarginTop","other","_home_travis_build_Team846_member_system_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_core__WEBPACK_IMPORTED_MODULE_1__","fullWidth","color","style","marginTop","defaultProps","Input","inputLabelRef","labelWidth","ReactDOM","findDOMNode","offsetWidth","_this$props","options","react__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_core__WEBPACK_IMPORTED_MODULE_6__","margin","ref","input","option","Dashboard","closeDrawer","open","openDrawer","children","react__WEBPACK_IMPORTED_MODULE_7__","toolbar","menuButton","onClick","_material_ui_icons__WEBPACK_IMPORTED_MODULE_8__","component","drawerPaper","onClose","values","routes","private","route","button","path","history","push","contentSpacer","_home_travis_build_Team846_member_system_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","mixins","width","marginLeft","marginRight","alignItems","display","withRouter"],"mappings":"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","file":"static/js/ProfileEditor.6d116e46.chunk.js","sourcesContent":["import Button from \"../../components/Button\";\nimport Dashboard from \"../../components/Dashboard\";\nimport firebase from \"firebase/app\";\nimport {Grid, Paper, withStyles} from \"@material-ui/core\";\nimport Input from \"../../components/Input\";\nimport React, {Component} from \"react\";\nimport {userProfileFields} from \"../../settings\";\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\nimport {withSnackbar} from \"notistack\";\nimport * as PropTypes from \"prop-types\";\n\nclass ProfileEditor extends Component {\n    componentDidMount() {\n        this.unsubscribe =\n            firebase.firestore().doc(`users/${firebase.auth().currentUser.uid}`)\n                .onSnapshot(snapshot => {\n                    this.setState({\n                        profile: snapshot.data() || this.state.profile\n                    });\n                });\n    }\n\n    componentWillUnmount() {\n        this.unsubscribe();\n    }\n\n    generateInputFromUserProfileField = userProfileField => {\n        const profile = this.state.profile;\n\n        const {condition, key, type, ...props} = userProfileField;\n\n        if (!condition(profile)) return null;\n\n        if (type === \"multi-input-field\") {\n            return (\n                <div key={key}>\n                    <Typography variant={\"h6\"}>{userProfileField.label}</Typography>\n                    <Grid container spacing={8}>\n                        {userProfileField.content\n                            .map(inputDescriptor => (\n                                <Grid key={inputDescriptor.key} item xs={12 / userProfileField.content.length}>\n                                    {this.generateInputFromUserProfileField(inputDescriptor)}\n                                </Grid>\n                            ))}\n                    </Grid>\n                </div>\n            );\n        } else if (type === \"group\") {\n            return (\n                <div key={key}>\n                    <Typography variant={\"h6\"}>{userProfileField.label}</Typography>\n                    {userProfileField.content.map(this.generateInputFromUserProfileField)}\n                </div>\n            );\n        } else {\n            return (\n                <Input\n                    key={key}\n                    onChange={this.onProfileFieldChange(key)}\n                    type={type}\n                    value={profile[key] || \"\"}\n                    {...props}/>\n            );\n        }\n    };\n\n    onProfileFieldChange = name => e => {\n        this.setState({\n            profile: {\n                ...this.state.profile,\n                [name]: e.target.value\n            }\n        })\n    };\n\n    static propTypes = {\n        classes: PropTypes.object.isRequired,\n        enqueueSnackbar: PropTypes.func.isRequired\n    };\n\n    render() {\n        const {classes} = this.props;\n\n        return (\n            <Dashboard title=\"Profile Editor\">\n                <Grid container justify=\"center\">\n                    <Grid item xs={12} md={8} lg={6}>\n                        <Paper className={classes.paper}>\n                            <form onSubmit={this.updateProfile}>\n                                {userProfileFields.map(this.generateInputFromUserProfileField)}\n                                <Button type=\"submit\">Update my profile</Button>\n                            </form>\n                        </Paper>\n                    </Grid>\n                </Grid>\n            </Dashboard>\n        );\n    }\n\n    state = (() => {\n        const {currentUser} = firebase.auth();\n        return {\n            profile: {\n                \"Backup Phone Type\": \"Home\",\n                Email: currentUser.email,\n                Gender: \"Male\",\n                Name: currentUser.displayName,\n                \"Primary Phone Number\": \"(408) 480-2845\",\n                \"Primary Phone Type\": \"Cell\",\n                Role: \"Student\",\n                Teams: [],\n            }\n        };\n    })();\n\n    static styles = theme => ({\n        paper: {\n            padding: theme.spacing.unit * 2\n        }\n    });\n\n    updateProfile = e => {\n        const {enqueueSnackbar} = this.props;\n        e.preventDefault();\n        firebase.firestore().doc(`users/${firebase.auth().currentUser.uid}`)\n            .set(this.state.profile)\n            .then(() => enqueueSnackbar(\"Updated profile\"))\n            .catch(e => enqueueSnackbar(e.message, {\n                variant: \"error\"\n            }));\n    }\n}\n\nexport default withStyles(ProfileEditor.styles)(withSnackbar(ProfileEditor));","import * as PropTypes from \"prop-types\";\nimport {Button as MuiButton} from \"@material-ui/core\";\nimport React from \"react\";\n\nfunction Button(props) {\n    const {noMarginTop, ...other} = props;\n\n    return (\n        <MuiButton\n            fullWidth\n            color=\"primary\"\n            style={{\n                marginTop: noMarginTop ? 8 : 24\n            }}\n            variant=\"contained\"\n            {...other}/>\n    );\n}\n\nButton.defaultProps = {\n    noMarginTop: false\n};\n\nButton.propTypes = {\n    noMarginTop: PropTypes.bool\n};\n\nexport default Button;","import {FormControl, InputLabel, MenuItem, OutlinedInput, Select, TextField} from \"@material-ui/core\";\nimport React, {Component} from \"react\";\nimport ReactDOM from \"react-dom\";\n\nclass Input extends Component {\n    inputLabelRef = null;\n\n    componentDidMount() {\n        if (this.inputLabelRef) {\n            this.setState({\n                labelWidth: ReactDOM.findDOMNode(this.inputLabelRef).offsetWidth\n            });\n        }\n    }\n\n    render() {\n        const {label, options, type, ...other} = this.props;\n\n        if (type === \"select\") {\n            return (\n                <FormControl\n                    fullWidth\n                    margin=\"normal\"\n                    variant=\"outlined\">\n                    <InputLabel\n                        ref={ref => this.inputLabelRef = ref}\n                        variant=\"outlined\">\n                        {label}\n                    </InputLabel>\n                    <Select\n                        input={\n                            <OutlinedInput labelWidth={this.state.labelWidth}/>\n                        }\n                        variant=\"outlined\"\n                        {...other}>\n                        {options.map(option => <MenuItem key={option} value={option}>{option}</MenuItem>)}\n                    </Select>\n                </FormControl>\n            )\n        } else {\n            return (\n                <TextField\n                    fullWidth\n                    margin=\"normal\"\n                    variant=\"outlined\"\n                    {...this.props}/>\n            )\n        }\n    }\n\n    state = {\n        labelWidth: 0\n    };\n}\n\nexport default Input;","import * as PropTypes from 'prop-types';\nimport { AppBar, Toolbar, Typography, Drawer, IconButton, List, ListItem, ListItemText } from '@material-ui/core';\nimport React, { Component, Fragment } from 'react';\nimport { Menu } from \"@material-ui/icons\";\nimport { withStyles } from '@material-ui/core/styles';\nimport {routes} from \"../settings\";\nimport {withRouter} from \"react-router-dom\";\n\nclass Dashboard extends Component {\n    closeDrawer = () => {\n        this.setState({\n            open: false\n        });\n    };\n\n    openDrawer = () => {\n        this.setState({\n            open: true\n        });\n    };\n\n    static propTypes = {\n        children: PropTypes.any.isRequired,\n        classes: PropTypes.object.isRequired,\n        title: PropTypes.string.isRequired\n    };\n\n    render() {\n        const { children, classes, title } = this.props;\n        return (\n            <Fragment>\n                <AppBar>\n                    <Toolbar className={classes.toolbar}>\n                        <IconButton className={classes.menuButton} color=\"inherit\" onClick={this.openDrawer}>\n                            <Menu />\n                        </IconButton>\n                        <Typography color=\"inherit\" component=\"h1\" variant=\"h5\">{title}</Typography>\n                    </Toolbar>\n                </AppBar>\n                <Drawer classes={{paper: classes.drawerPaper}} onClose={this.closeDrawer} open={this.state.open} variant=\"temporary\">\n                    <List>\n                        <ListItem>\n                            <ListItemText>\n                                <Typography variant=\"h5\">Member System</Typography>\n                            </ListItemText>\n                        </ListItem>\n                        {Object.values(routes.private).map(route =>\n                            <ListItem button key={route.path} onClick={() => this.props.history.push(route.path)}>\n                                <ListItemText>{route.label}</ListItemText>\n                            </ListItem>)}\n                    </List>\n                </Drawer>\n                <div className={classes.contentSpacer}/>\n                {children}\n            </Fragment>\n        );\n    }\n\n    state = {\n        open: false\n    };\n\n    static styles = theme => ({\n        contentSpacer: {\n            ...theme.mixins.toolbar\n        },\n        drawerPaper: {\n            width: 300\n        },\n        menuButton: {\n            marginLeft: -12,\n            marginRight: theme.spacing.unit\n        },\n        toolbar: {\n            alignItems: \"center\",\n            display: \"flex\"\n        }\n    });\n}\n\nexport default withStyles(Dashboard.styles)(withRouter(Dashboard));\n"],"sourceRoot":""}