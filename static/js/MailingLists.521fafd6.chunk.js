(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{508:function(e,t,a){"use strict";a.r(t);var n=a(86),l=a(36),r=a(87),i=a(132),o=a(133),c=a(135),s=a(134),u=a(136),m=a(49),d=a(19),p=a(522),b=a(39),h=a.n(b),f=a(1),v=a.n(f),g=a(519),E=a(516),y=a(137),j=a(517),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).deleteMailingList=function(e){return function(){if(window.confirm('Are you sure you want to delete the "'.concat(e.name,'" mailing list'))){var t=a.props.enqueueSnackbar;h.a.firestore().doc("mailing-lists/".concat(e.id)).delete().then(function(){return t('Deleted the "'.concat(e.name,'" mailing list'))}).catch(function(e){return t(e.message)})}}},a.modelModalData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){a.setState({modal:Object(r.a)({},a.state.modal,{data:Object(r.a)({},a.state.modal.data,Object(l.a)({},e,t?n.target.checked:n.target.value))})})}},a.createMailingList=function(e){e.preventDefault(),h.a.firestore().collection("mailing-lists").add(a.state.modal.data).then(function(){return a.props.enqueueSnackbar("Created mailing list")}).catch(function(e){return a.props.enqueueSnackbar(e.message)})},a.state={aliases:[],modal:{data:{alias:Date.now(),name:"New Alias",members:"",private:!1},open:!1}},a.updateAliasField=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(l){var r=[].concat(a.state.aliases);r.find(function(t){return t.id===e.id})[t]=n?l.target.checked:l.target.value,a.setState({aliases:r})}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=h.a.firestore().collection("mailing-lists").onSnapshot(function(t){e.setState({aliases:t.docs.map(function(e){return Object(r.a)({},e.data(),{id:e.id})})})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.modal.data;return v.a.createElement(g.a,{title:"Mailing Lists"},v.a.createElement(m.o,{container:!0,justify:"center"},this.state.aliases.map(function(t){return v.a.createElement(m.o,{item:!0,key:t.id,xs:12,md:7},v.a.createElement(m.h,null,v.a.createElement(m.k,{expandIcon:v.a.createElement(p.b,null)},v.a.createElement(m.H,null,t.name)),v.a.createElement(m.j,null,v.a.createElement("form",{style:{width:"100%"}},v.a.createElement(j.a,{autoFocus:!0,label:"Name",onChange:e.updateAliasField(t,"name"),value:t.name}),v.a.createElement(j.a,{InputProps:{endAdornment:v.a.createElement(m.q,{position:"end"},"@lynbrookrobotics.com")},onChange:e.updateAliasField(t,"alias"),label:"Alias",value:t.alias}),v.a.createElement(j.a,{onChange:e.updateAliasField(t,"members"),multiline:!0,rowsMax:10,label:"Members",value:t.members}))),v.a.createElement(m.f,null),v.a.createElement(m.i,null,v.a.createElement(m.n,{control:v.a.createElement(m.c,{onChange:e.updateAliasField(t,"private",!0),checked:t.private}),label:"Private",margin:"none"}),v.a.createElement(E.a,{fullWidth:!1,noMarginTop:!0,onClick:e.deleteMailingList(t),variant:"outlined",size:"small"},"Delete Alias"),v.a.createElement(E.a,{fullWidth:!1,noMarginTop:!0,onClick:function(){t.id;var a=Object(n.a)(t,["id"]);h.a.firestore().doc("mailing-lists/".concat(t.id)).set(Object(r.a)({},a)).then(function(){return e.props.enqueueSnackbar('Updated the "'.concat(t.name,'" mailing list'))}).catch(function(t){return e.props.enqueueSnackbar(t.message)})},size:"small"},"Save"))))})),v.a.createElement(m.w,{open:this.state.modal.open,onClose:function(){return e.setState({modal:Object(r.a)({},e.state.modal,{open:!1})})}},v.a.createElement(m.o,{container:!0,alignItems:"center",justify:"center"},v.a.createElement(m.o,{item:!0,xs:12,md:6},v.a.createElement(m.y,{className:t.modalPaper},v.a.createElement(m.H,{variant:"h6"},"New Alias"),v.a.createElement("form",{onSubmit:this.createMailingList},v.a.createElement(j.a,{autoFocus:!0,label:"Name",onChange:this.modelModalData("name"),value:a.name}),v.a.createElement(j.a,{InputProps:{endAdornment:v.a.createElement(m.q,{position:"end"},"@lynbrookrobotics.com")},onChange:this.modelModalData("alias"),label:"Alias",value:a.alias}),v.a.createElement(j.a,{onChange:this.modelModalData("members"),multiline:!0,rowsMax:10,label:"Members",value:a.members}),v.a.createElement(E.a,{type:"submit"},"Create")))))),v.a.createElement(m.l,{className:t.fab,color:"primary",onClick:function(){return e.setState({modal:Object(r.a)({},e.state.modal,{open:!0})})}},v.a.createElement(p.a,null)))}}]),t}(f.Component);O.styles=function(e){return{fab:{bottom:2*e.spacing.unit,right:2*e.spacing.unit,position:"fixed"},modalPaper:{padding:2*e.spacing.unit}}},t.default=Object(d.withStyles)(O.styles)(Object(y.withSnackbar)(O))},516:function(e,t,a){"use strict";var n=a(86),l=a(49),r=a(1),i=a.n(r);function o(e){var t=e.noMarginTop,a=Object(n.a)(e,["noMarginTop"]);return i.a.createElement(l.b,Object.assign({fullWidth:!0,color:"primary",style:{marginTop:t?8:24},variant:"contained"},a))}o.defaultProps={noMarginTop:!1},t.a=o},517:function(e,t,a){"use strict";var n=a(86),l=a(132),r=a(133),i=a(135),o=a(134),c=a(136),s=a(49),u=a(1),m=a.n(u),d=a(18),p=a.n(d),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).inputLabelRef=null,a.state={labelWidth:0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.inputLabelRef&&this.setState({labelWidth:p.a.findDOMNode(this.inputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,l=t.options,r=t.type,i=Object(n.a)(t,["label","options","type"]);return"select"===r?m.a.createElement(s.m,{fullWidth:!0,margin:"normal",variant:"outlined"},m.a.createElement(s.r,{ref:function(t){return e.inputLabelRef=t},variant:"outlined"},a),m.a.createElement(s.z,Object.assign({input:m.a.createElement(s.x,{labelWidth:this.state.labelWidth}),variant:"outlined"},i),l.map(function(e){return m.a.createElement(s.v,{key:e,value:e},e)}))):m.a.createElement(s.F,Object.assign({fullWidth:!0,margin:"normal",variant:"outlined"},this.props))}}]),t}(u.Component);t.a=b},519:function(e,t,a){"use strict";var n=a(87),l=a(132),r=a(133),i=a(135),o=a(134),c=a(136),s=a(37),u=a(49),m=a(1),d=a.n(m),p=a(522),b=a(19),h=a(5747),f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).closeDrawer=function(){a.setState({open:!1})},a.openDrawer=function(){a.setState({open:!0})},a.state={open:!1},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.classes,l=t.title;return d.a.createElement(s.a.Consumer,null,function(t){return d.a.createElement(m.Fragment,null,d.a.createElement(u.a,null,d.a.createElement(u.G,{className:n.toolbar},d.a.createElement(u.p,{className:n.menuButton,color:"inherit",onClick:e.openDrawer},d.a.createElement(p.c,null)),d.a.createElement(u.H,{color:"inherit",component:"h1",variant:"h5"},l))),d.a.createElement(u.g,{classes:{paper:n.drawerPaper},onClose:e.closeDrawer,open:e.state.open,variant:"temporary"},d.a.createElement(u.s,null,d.a.createElement(u.t,null,d.a.createElement(u.u,null,d.a.createElement(u.H,{variant:"h5"},"Member System"))),Object.values(s.d.private).map(function(a){return s.c.indexOf(t["Permission Level"]),a.minPermissionLevel,d.a.createElement(u.t,{button:!0,key:a.path,onClick:function(){return e.props.history.push(a.path)}},d.a.createElement(u.u,null,a.label))}))),d.a.createElement("div",{className:n.contentSpacer}),a)})}}]),t}(m.Component);f.styles=function(e){return{contentSpacer:Object(n.a)({},e.mixins.toolbar),drawerPaper:{width:300},menuButton:{marginLeft:-12,marginRight:e.spacing.unit},toolbar:{alignItems:"center",display:"flex"}}},t.a=Object(b.withStyles)(f.styles)(Object(h.a)(f))}}]);
//# sourceMappingURL=MailingLists.521fafd6.chunk.js.map