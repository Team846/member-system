(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{510:function(e,t,n){"use strict";n.r(t);var a=n(36),r=n(87),i=n(86),l=n(132),o=n(133),c=n(135),s=n(134),u=n(136),p=n(516),m=n(519),f=n(39),h=n.n(f),d=n(49),b=n(19),v=n(517),y=n(1),E=n.n(y),g=n(37),O=n(5742),j=n(137),k=function(e){function t(){var e,n;Object(l.a)(this,t);for(var o=arguments.length,u=new Array(o),p=0;p<o;p++)u[p]=arguments[p];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(u)))).generateInputFromUserProfileField=function(e){var t=n.state.profile,a=e.condition,r=e.key,l=e.type,o=Object(i.a)(e,["condition","key","type"]);return a(t)?"multi-input-field"===l?E.a.createElement("div",{key:r},E.a.createElement(O.a,{variant:"h6"},e.label),E.a.createElement(d.o,{container:!0,spacing:8},e.content.map(function(t){return E.a.createElement(d.o,{key:t.key,item:!0,xs:12/e.content.length},n.generateInputFromUserProfileField(t))}))):"group"===l?E.a.createElement("div",{key:r},E.a.createElement(O.a,{variant:"h6"},e.label),e.content.map(n.generateInputFromUserProfileField)):E.a.createElement(v.a,Object.assign({key:r,onChange:n.onProfileFieldChange(r),type:l,value:t[r]||""},o)):null},n.onProfileFieldChange=function(e){return function(t){n.setState({profile:Object(r.a)({},n.state.profile,Object(a.a)({},e,t.target.value))})}},n.state=function(){var e=h.a.auth().currentUser;return{profile:{"Backup Phone Type":"Home",Email:e.email,Gender:"Male",Name:e.displayName,"Permission Level":g.c[0],"Primary Phone Number":"(408) 480-2845","Primary Phone Type":"Cell",Role:"Student",Teams:[]}}}(),n.updateProfile=function(e){var t=n.props.enqueueSnackbar;e.preventDefault(),h.a.firestore().doc("users/".concat(n.uid)).set(n.state.profile).then(function(){return t("Updated profile")}).catch(function(e){return t(e.message,{variant:"error"})})},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.uid=this.props.match.params.uid||h.a.auth().currentUser.uid,this.unsubscribe=h.a.firestore().doc("users/".concat(this.uid)).onSnapshot(function(t){e.setState({profile:t.data()||e.state.profile})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.props.classes;return E.a.createElement(m.a,{title:"Profile Editor"},E.a.createElement(d.o,{container:!0,justify:"center"},E.a.createElement(d.o,{item:!0,xs:12,md:8,lg:6},E.a.createElement(d.y,{className:e.paper},E.a.createElement("form",{onSubmit:this.updateProfile},g.e.map(this.generateInputFromUserProfileField),E.a.createElement(p.a,{type:"submit"},"Update my profile"))))))}}]),t}(y.Component);k.styles=function(e){return{paper:{padding:2*e.spacing.unit}}},t.default=Object(b.withStyles)(k.styles)(Object(j.withSnackbar)(k))},516:function(e,t,n){"use strict";var a=n(86),r=n(49),i=n(1),l=n.n(i);function o(e){var t=e.noMarginTop,n=Object(a.a)(e,["noMarginTop"]);return l.a.createElement(r.b,Object.assign({fullWidth:!0,color:"primary",style:{marginTop:t?8:24},variant:"contained"},n))}o.defaultProps={noMarginTop:!1},t.a=o},517:function(e,t,n){"use strict";var a=n(86),r=n(132),i=n(133),l=n(135),o=n(134),c=n(136),s=n(49),u=n(1),p=n.n(u),m=n(18),f=n.n(m),h=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).inputLabelRef=null,n.state={labelWidth:0},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.inputLabelRef&&this.setState({labelWidth:f.a.findDOMNode(this.inputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.options,i=t.type,l=Object(a.a)(t,["label","options","type"]);return"select"===i?p.a.createElement(s.m,{fullWidth:!0,margin:"normal",variant:"outlined"},p.a.createElement(s.r,{ref:function(t){return e.inputLabelRef=t},variant:"outlined"},n),p.a.createElement(s.z,Object.assign({input:p.a.createElement(s.x,{labelWidth:this.state.labelWidth}),variant:"outlined"},l),r.map(function(e){return p.a.createElement(s.v,{key:e,value:e},e)}))):p.a.createElement(s.F,Object.assign({fullWidth:!0,margin:"normal",variant:"outlined"},this.props))}}]),t}(u.Component);t.a=h},519:function(e,t,n){"use strict";var a=n(87),r=n(132),i=n(133),l=n(135),o=n(134),c=n(136),s=n(37),u=n(49),p=n(1),m=n.n(p),f=n(522),h=n(19),d=n(5747),b=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).closeDrawer=function(){n.setState({open:!1})},n.openDrawer=function(){n.setState({open:!0})},n.state={open:!1},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.classes,r=t.title;return m.a.createElement(s.a.Consumer,null,function(t){return m.a.createElement(p.Fragment,null,m.a.createElement(u.a,null,m.a.createElement(u.G,{className:a.toolbar},m.a.createElement(u.p,{className:a.menuButton,color:"inherit",onClick:e.openDrawer},m.a.createElement(f.c,null)),m.a.createElement(u.H,{color:"inherit",component:"h1",variant:"h5"},r))),m.a.createElement(u.g,{classes:{paper:a.drawerPaper},onClose:e.closeDrawer,open:e.state.open,variant:"temporary"},m.a.createElement(u.s,null,m.a.createElement(u.t,null,m.a.createElement(u.u,null,m.a.createElement(u.H,{variant:"h5"},"Member System"))),Object.values(s.d.private).map(function(n){return s.c.indexOf(t["Permission Level"]),n.minPermissionLevel,m.a.createElement(u.t,{button:!0,key:n.path,onClick:function(){return e.props.history.push(n.path)}},m.a.createElement(u.u,null,n.label))}))),m.a.createElement("div",{className:a.contentSpacer}),n)})}}]),t}(p.Component);b.styles=function(e){return{contentSpacer:Object(a.a)({},e.mixins.toolbar),drawerPaper:{width:300},menuButton:{marginLeft:-12,marginRight:e.spacing.unit},toolbar:{alignItems:"center",display:"flex"}}},t.a=Object(h.withStyles)(b.styles)(Object(d.a)(b))}}]);
//# sourceMappingURL=ProfileEditor.85634fb7.chunk.js.map